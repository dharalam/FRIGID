{% extends "base.html" %}

{% block content %}
    <div class="container mt-4">
        <h1 class="text-center mb-4">Submit ICE Activity Report</h1>
        
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category if category != 'error' else 'danger' }} flash-message">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
        
        <div class="form-container">
            <p class="lead">Use this form to report ICE (Immigration and Customs Enforcement) activity in your area. This information helps our community stay informed and safe.</p>
            
            <form method="POST" action="/report">
                <div class="mb-3">
                    <label for="location" class="form-label required-field">Location</label>
                    <input type="text" class="form-control" id="location" name="location" required 
                           placeholder="City, town, or specific address where activity was observed">
                    <div class="form-text">Be as specific as possible with the location.</div>
                </div>
                
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="date" class="form-label required-field">Date</label>
                        <input type="date" class="form-control" id="date" name="date" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="time" class="form-label required-field">Approximate Time</label>
                        <input type="time" class="form-control" id="time" name="time" required>
                    </div>
                </div>
                
                <div class="mb-3">
                    <label for="description" class="form-label required-field">Description</label>
                    <textarea class="form-control" id="description" name="description" rows="4" required
                              placeholder="Describe what you observed. Include details about vehicles, number of agents, activities observed, etc."></textarea>
                </div>
                
                <div class="alert alert-warning small">
                    <strong>Warning:</strong> Please avoid including:
                    <ul>
                        <li>Names or identifying details of individuals</li>
                        <li>Speculative information (stick to observed facts)</li>
                    </ul>
                </div>

                <hr>
                <h5>Contact Information (Optional)</h5>
                <p class="text-muted">Your contact information will be kept confidential and only used if we need to verify details about your report.</p>
                
                <div class="mb-3">
                    <label for="contact_name" class="form-label">Your Name</label>
                    <input type="text" class="form-control" id="contact_name" name="contact_name">
                </div>
                
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="contact_email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="contact_email" name="contact_email">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="contact_phone" class="form-label">Phone</label>
                        <input type="tel" class="form-control" id="contact_phone" name="contact_phone">
                    </div>
                </div>
                
                <div class="mb-3">
                    <label for="additional_info" class="form-label">Additional Information</label>
                    <textarea class="form-control" id="additional_info" name="additional_info" rows="3"
                              placeholder="Any other details that might be helpful"></textarea>
                </div>
                
                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="terms_consent" name="terms_consent" required>
                    <label class="form-check-label" for="terms_consent">
                        I agree to the Terms of Service and understand that:
                        <ul class="small">
                            <li>This is not an emergency service</li>
                            <li>Reports are public-facing unless marked sensitive</li>
                            <li>False reports may be removed</li>
                        </ul>
                    </label>
                </div>
                
                <div class="legal-disclaimer small text-muted">
                    <p>By submitting, you acknowledge that FRIGID:</p>
                    <ul>
                        <li>Cannot verify all reports in real-time</li>
                        <li>Is not affiliated with any government agency</li>
                        <li>May use anonymized data for statistical purposes</li>
                        <li>Reserves the right to withhold publication of reports</li>
                    </ul>
                </div>

                <div class="d-grid gap-2">
                    <button type="submit" id="form-submit" class="btn btn-primary">Submit Report</button>
                </div>
            </form>
            
            <h3>Legal Disclaimers</h3>
            <div class="alert alert-warning">
                <strong>Important Legal Information:</strong>
                <ul>
                    <li>FRIGID provides informational resources only, not legal advice</li>
                    <li>We make no warranties about the accuracy or completeness of our data</li>
                    <li>Use of this information is at your own risk</li>
                    <li>We are not liable for any actions taken based on this information</li>
                    <li>For legal advice, consult a qualified immigration attorney</li>
                </ul>
            </div>
            <p>FRIGID complies with all applicable U.S. federal laws and New Jersey state laws. This platform is protected under Section 230 of the Communications Decency Act for third-party content.</p>
            <div class="privacy-notice">
                <h5>Privacy Notice</h5>
                <p>Your privacy is important to us. Reports are sent to a secure Proton Mail account to ensure encryption and security. We do not store personal information on our servers unless you explicitly provide it. All contact information is optional and will only be used to follow up on reports if necessary.</p>
                <p>If you prefer to remain completely anonymous, you can submit the form without providing any contact information.</p>
            </div>
        </div>
    </div>
{% endblock %}
